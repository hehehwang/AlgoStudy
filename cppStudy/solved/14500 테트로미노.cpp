#include <bits/stdc++.h>
using namespace std;
// 14500 테트로미노
#define FOR(i, n, m) for(int i=(n); i<(m); i++)

int bb[502][502];
int bR, bC;
int Tetromino[19][4][2] = {
    {{0, 0}, {1, 0}, {2, 0}, {3, 0}},
    {{0, 0}, {0, 1}, {0, 2}, {0, 3}},
    {{0, 0}, {0, 1}, {1, 0}, {1, 1}},
    {{0, 0}, {1, 0}, {2, 0}, {2, 1}},
    {{0, 0}, {1, -2}, {1, -1}, {1, 0}},
    {{0, 0}, {0, 1}, {1, 1}, {2, 1}},
    {{0, 0}, {0, 1}, {0, 2}, {1, 0}},
    {{0, 0}, {1, 0}, {2, 0}, {2, -1}},
    {{0, 0}, {0, 1}, {0, 2}, {1, 2}},
    {{0, 0}, {0, 1}, {1, 0}, {2, 0}},
    {{0, 0}, {1, 0}, {1, 1}, {1, 2}},
    {{0, 0}, {1, 0}, {1, 1}, {2, 1}},
    {{0, 0}, {0, 1}, {1, -1}, {1, 0}},
    {{0, 0}, {1, -1}, {1, 0}, {2, -1}},
    {{0, 0}, {0, 1}, {1, 1}, {1, 2}},
    {{0, 0}, {0, 1}, {0, 2}, {1, 1}},
    {{0, 0}, {1, 0}, {1, 1}, {2, 0}},
    {{0, 0}, {1, -1}, {1, 0}, {1, 1}},
    {{0, 0}, {1, -1}, {1, 0}, {2, 0}},
};
int main(void) {
    ios::sync_with_stdio(0);
    cin.tie(0);

    cin >> bR >> bC;
    int maxV = 0, v = 0;
    FOR(i, 0, bR) FOR(j, 0, bC) cin >> bb[i][j];
    FOR(r, 0, bR) FOR(c, 0, bC) {
        FOR(i, 0, 19) {
            bool valid = true;
            int v = 0;
            FOR(j, 0, 4) {
                int nr = r + Tetromino[i][j][0], nc = c + Tetromino[i][j][1];
                if (nr < 0 || nc < 0 || bR <= nr || bC <= nc) {
                    valid = false;
                    break;
                }
                v += bb[nr][nc];
            }
            if (valid) maxV = max(maxV, v);
        }
    }
    cout << maxV;
}